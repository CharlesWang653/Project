{"ast":null,"code":"import _defineProperty from \"/Users/charleswang/Desktop/coding learning/web/projects/project2/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/charleswang/Desktop/coding learning/web/projects/project2/src/client/react/components/inputForm.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from \"react\";\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport Input from '@material-ui/core/Input';\nimport Button from '@material-ui/core/Button';\nimport DateFnsUtils from '@date-io/date-fns';\nimport { Fragment } from \"react\";\nimport { DatePicker } from \"@material-ui/pickers\";\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from '@material-ui/pickers';\nimport \"./form.css\";\nconst Ranks = [\"General\", \"Colonel\", \"Major\", \"Captain\", \"Lieutenant\", \"Warrant Officer\", \"Sergeant\", \"Corporal\", \"Specialist\", \"Private\"];\n\nclass InputForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleAvatar = e => {\n      const file = e.target.files[0].name;\n      this.setState({\n        user: _objectSpread({}, this.state.user, {\n          Avatar: file\n        })\n      });\n    };\n\n    this.handleName = e => {\n      this.setState({\n        user: _objectSpread({}, this.state.user, {\n          Name: e.target.value\n        })\n      });\n    };\n\n    this.handleSex = e => {\n      this.setState({\n        user: _objectSpread({}, this.state.user, {\n          Sex: e.target.value\n        })\n      });\n    };\n\n    this.handleRank = e => {\n      this.setState({\n        user: _objectSpread({}, this.state.user, {\n          Rank: e.target.value\n        })\n      });\n    };\n\n    this.handleStartDate = date => {\n      const year = date.getFullYear();\n      const month = date.getMonth() + 1;\n      const day = date.getDate();\n      this.setState({\n        user: _objectSpread({}, this.state.user, {\n          StartDate: \"\".concat(year, \"/\").concat(month, \"/\").concat(day)\n        })\n      });\n    };\n\n    this.handlePhone = e => {\n      this.setState({\n        user: _objectSpread({}, this.state.user, {\n          Phone: e.target.value\n        })\n      });\n    };\n\n    this.handleEmail = e => {\n      this.setState({\n        user: _objectSpread({}, this.state.user, {\n          Email: e.target.value\n        })\n      });\n    };\n\n    this.handleSuperior = e => {\n      const user = this.props.nameIdList.find(pair => {\n        return pair.id === e.target.value;\n      });\n\n      if (user) {\n        this.setState({\n          user: _objectSpread({}, this.state.user, {\n            Superior: e.target.value,\n            SuperiorName: user.name\n          })\n        });\n        console.log(this.state.user.SuperiorName);\n      } else {\n        this.setState({\n          user: _objectSpread({}, this.state.user, {\n            Superior: \"\",\n            SuperiorName: \"\"\n          })\n        });\n      }\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n\n      if (this.props.use === \"create\") {\n        const createUser = {\n          Avatar: this.state.user.Avatar,\n          Name: this.state.user.Name,\n          Sex: this.state.user.Sex,\n          Rank: this.state.user.Rank,\n          StartDate: this.state.user.StartDate,\n          Phone: this.state.user.Phone,\n          Email: this.state.user.Email,\n          Superior: this.state.user.Superior\n        };\n        this.props.createOne(createUser, this.props.history);\n      } else {\n        this.props.updateOne(this.state.user, this.state.oldSuperior, this.state.user.Superior, this.props.history);\n      }\n    };\n\n    this.state = {\n      user: {\n        _id: this.props.userdata._id,\n        Avatar: this.props.userdata.Avatar,\n        Name: this.props.userdata.Name,\n        Sex: this.props.userdata.Sex,\n        Rank: this.props.userdata.Rank,\n        StartDate: this.props.userdata.StartDate,\n        Phone: this.props.userdata.Phone,\n        Email: this.props.userdata.Email,\n        Superior: this.props.userdata.Superior,\n        SuperiorName: this.props.userdata.SuperiorName\n      },\n      oldSuperior: this.props.userdata.Superior\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      user: _objectSpread({}, this.state.user, {\n        SuperiorName: this.props.userdata.SuperiorName\n      })\n    });\n    console.log(this.state.user.SuperiorName);\n  }\n\n  render() {\n    // console.log(this.state.user);\n    return React.createElement(\"div\", {\n      className: \"whole-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"form-container\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"avatar_div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"avatar\"), this.state.user.Avatar !== \"\" && this.state.user.Avatar !== undefined && React.createElement(\"img\", {\n      src: require(\"../../../../src/server/\".concat(this.state.user.Avatar)),\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      accept: \"image/*\",\n      style: {\n        display: 'none'\n      },\n      id: \"contained-button-file\",\n      multiple: true,\n      type: \"file\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"contained-button-file\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"contained\",\n      component: \"span\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Upload\"))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(FormControl, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(InputLabel, {\n      htmlFor: \"component-helper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Name\"), React.createElement(Input, {\n      id: \"name-input\",\n      value: this.state.user.Name,\n      onChange: this.handleName,\n      \"aria-describedby\": \"component-helper-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }), React.createElement(FormControl, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(InputLabel, {\n      id: \"rank-select\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"Sex\"), React.createElement(Select, {\n      value: this.state.user.Sex,\n      onChange: this.handleSex,\n      hidden: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(MenuItem, {\n      value: \"Male\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"Male\"), React.createElement(MenuItem, {\n      value: \"Female\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"Female\"))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }), React.createElement(FormControl, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(InputLabel, {\n      id: \"rank-select\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"Rank\"), React.createElement(Select, {\n      value: this.state.user.Rank,\n      onChange: this.handleRank,\n      hidden: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, Ranks.map((rank, index) => {\n      return React.createElement(MenuItem, {\n        key: index,\n        value: rank,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, rank);\n    }))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }), React.createElement(MuiPickersUtilsProvider, {\n      utils: DateFnsUtils,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(DatePicker, {\n      label: \"Start Date\",\n      value: this.state.user.StartDate,\n      onChange: this.handleStartDate,\n      animateYearScrolling: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }), React.createElement(FormControl, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(InputLabel, {\n      htmlFor: \"component-helper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, \"Phone\"), React.createElement(Input, {\n      id: \"phone-input\",\n      value: this.state.user.Phone,\n      onChange: this.handlePhone,\n      \"aria-describedby\": \"component-helper-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }), React.createElement(FormControl, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, React.createElement(InputLabel, {\n      htmlFor: \"component-helper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, \"Email\"), React.createElement(Input, {\n      id: \"Email-input\",\n      value: this.state.user.Email,\n      onChange: this.handleEmail,\n      \"aria-describedby\": \"component-helper-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }), React.createElement(FormControl, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, React.createElement(InputLabel, {\n      id: \"demo-simple-select-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, \"Superior\"), React.createElement(Select, {\n      value: this.state.user.Superior,\n      onChange: this.handleSuperior,\n      hidden: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, React.createElement(MenuItem, {\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, \"None\"), this.props.nameIdList.map((pair, index) => {\n      return React.createElement(MenuItem, {\n        key: index,\n        value: pair.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, pair.name);\n    }))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"submit\",\n      className: \"submit-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default InputForm;","map":{"version":3,"sources":["/Users/charleswang/Desktop/coding learning/web/projects/project2/src/client/react/components/inputForm.js"],"names":["React","FormControl","InputLabel","MenuItem","Select","Input","Button","DateFnsUtils","Fragment","DatePicker","MuiPickersUtilsProvider","KeyboardDatePicker","Ranks","InputForm","Component","constructor","props","handleAvatar","e","file","target","files","name","setState","user","state","Avatar","handleName","Name","value","handleSex","Sex","handleRank","Rank","handleStartDate","date","year","getFullYear","month","getMonth","day","getDate","StartDate","handlePhone","Phone","handleEmail","Email","handleSuperior","nameIdList","find","pair","id","Superior","SuperiorName","console","log","handleSubmit","preventDefault","use","createUser","createOne","history","updateOne","oldSuperior","_id","userdata","componentDidMount","render","undefined","require","display","map","rank","index"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport Input from '@material-ui/core/Input';\nimport Button from '@material-ui/core/Button';\nimport DateFnsUtils from '@date-io/date-fns';\nimport { Fragment } from \"react\";\nimport { DatePicker } from \"@material-ui/pickers\";\n\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardDatePicker,\n} from '@material-ui/pickers';\nimport \"./form.css\"\nconst Ranks = [\"General\", \"Colonel\", \"Major\", \"Captain\", \"Lieutenant\", \"Warrant Officer\", \"Sergeant\", \"Corporal\", \"Specialist\", \"Private\"];\nclass InputForm extends React.Component {\n  constructor(props){\n    super(props);\n    this.state={user:{_id:this.props.userdata._id, Avatar: this.props.userdata.Avatar, Name: this.props.userdata.Name,\n      Sex: this.props.userdata.Sex, Rank: this.props.userdata.Rank, StartDate: this.props.userdata.StartDate,\n      Phone: this.props.userdata.Phone, Email: this.props.userdata.Email, \n      Superior: this.props.userdata.Superior,SuperiorName:this.props.userdata.SuperiorName},oldSuperior:this.props.userdata.Superior};\n  }\n  componentDidMount() {\n    this.setState({user:{...this.state.user, SuperiorName: this.props.userdata.SuperiorName}});\n    console.log(this.state.user.SuperiorName);\n  }\n  handleAvatar = (e) => {\n    const file = e.target.files[0].name;\n    this.setState({user:{...this.state.user, Avatar: file}});\n  }\n  handleName = (e) => {\n    this.setState({user:{...this.state.user, Name: e.target.value}});\n  }\n  handleSex = (e) => {\n    this.setState({user:{...this.state.user, Sex: e.target.value}});\n  }\n  handleRank = (e) => {\n    this.setState({user:{...this.state.user, Rank: e.target.value}});\n  }\n  handleStartDate = (date) => {\n    const year = date.getFullYear();\n    const month = date.getMonth() + 1;\n    const day = date.getDate();\n    this.setState({user:{...this.state.user, StartDate: `${year}/${month}/${day}`}});\n  }\n  handlePhone = (e) => {\n    this.setState({user:{...this.state.user, Phone: e.target.value}});\n  }\n  handleEmail = (e) => {\n    this.setState({user:{...this.state.user, Email: e.target.value}});\n  }\n  handleSuperior = (e) => {\n    const user = this.props.nameIdList.find((pair) => {\n      return pair.id === e.target.value;\n    });\n    if(user){\n      this.setState({user:{...this.state.user, Superior: e.target.value, SuperiorName: user.name}});\n      console.log(this.state.user.SuperiorName);\n    }else{\n      this.setState({user:{...this.state.user, Superior: \"\", SuperiorName: \"\"}});\n    }\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    if(this.props.use === \"create\"){\n      const createUser={Avatar: this.state.user.Avatar, Name: this.state.user.Name,\n        Sex: this.state.user.Sex, Rank: this.state.user.Rank, StartDate: this.state.user.StartDate,\n        Phone: this.state.user.Phone, Email: this.state.user.Email, \n        Superior: this.state.user.Superior}\n      this.props.createOne(createUser, this.props.history);\n    }else{\n      this.props.updateOne(this.state.user, this.state.oldSuperior, this.state.user.Superior, this.props.history);\n    }\n  }\n  render() {\n    // console.log(this.state.user);\n    return (\n    <div className=\"whole-container\">\n      <form className=\"form-container\" onSubmit={this.handleSubmit}>\n        <div className=\"avatar_div\">\n          <label>avatar</label>\n          {(this.state.user.Avatar !== \"\"&& this.state.user.Avatar !== undefined) && <img src={require(`../../../../src/server/${this.state.user.Avatar}`)} alt=\"\"/>}\n          {/* <input\n            type=\"file\"\n            accept=\"image/jpeg,image/jpg,image/png\"\n            className=\"base-upload-input\"\n            onChange={this.handleAvatar}\n          /> */}\n          <input\n            accept=\"image/*\"\n            style={{display: 'none'}}\n            id=\"contained-button-file\"\n            multiple\n            type=\"file\"\n          />\n          <label htmlFor=\"contained-button-file\">\n            <Button variant=\"contained\" component=\"span\">\n              Upload\n            </Button>\n          </label>\n        </div>\n        <div>\n          <FormControl>\n              <InputLabel htmlFor=\"component-helper\">Name</InputLabel>\n              <Input\n                id=\"name-input\"\n                value={this.state.user.Name}\n                onChange={this.handleName}\n                aria-describedby=\"component-helper-text\"\n              />\n          </FormControl>\n          <br/>\n          <FormControl>\n              <InputLabel id=\"rank-select\">Sex</InputLabel>\n              <Select\n                value={this.state.user.Sex}\n                onChange={this.handleSex}\n                hidden={false}\n              >\n                <MenuItem value={\"Male\"} >Male</MenuItem>\n                <MenuItem value={\"Female\"} >Female</MenuItem>\n              </Select>\n          </FormControl>\n          <br/>\n          <FormControl>\n              <InputLabel id=\"rank-select\">Rank</InputLabel>\n              <Select\n                value={this.state.user.Rank}\n                onChange={this.handleRank}\n                hidden={false}\n              >\n                {Ranks.map((rank,index) => {\n              return (<MenuItem key={index} value={rank} >{rank}</MenuItem>);\n            })}\n              </Select>\n          </FormControl>\n          <br/>\n          <MuiPickersUtilsProvider utils={DateFnsUtils}>\n          <Fragment>\n            <DatePicker\n              label=\"Start Date\"\n              value={this.state.user.StartDate}\n              onChange={this.handleStartDate}\n              animateYearScrolling\n            />\n          </Fragment>\n          </MuiPickersUtilsProvider>\n          \n          {/* <MuiPickersUtilsProvider utils={DateFnsUtils}>\n            <Grid container justify=\"space-around\">\n              <KeyboardDatePicker\n                disableToolbar\n                variant=\"inline\"\n                format=\"yyyy/MM/dd\"\n                margin=\"normal\"\n                id=\"date-picker-inline\"\n                label=\"Date picker inline\"\n                value={this.state.user.StartDate}\n                onChange={this.handleStartDate}\n                KeyboardButtonProps={{\n                  'aria-label': 'change date',\n                }}\n              />\n            </Grid>\n          </MuiPickersUtilsProvider> */}\n          <br/>\n          <FormControl>\n              <InputLabel htmlFor=\"component-helper\">Phone</InputLabel>\n              <Input\n                id=\"phone-input\"\n                value={this.state.user.Phone}\n                onChange={this.handlePhone}\n                aria-describedby=\"component-helper-text\"\n              />\n          </FormControl>\n          <br/>\n          <FormControl>\n              <InputLabel htmlFor=\"component-helper\">Email</InputLabel>\n              <Input\n                id=\"Email-input\"\n                value={this.state.user.Email}\n                onChange={this.handleEmail}\n                aria-describedby=\"component-helper-text\"\n              />\n          </FormControl>\n          <br/>\n          <FormControl>\n              <InputLabel id=\"demo-simple-select-label\">Superior</InputLabel>\n              <Select\n                value={this.state.user.Superior}\n                onChange={this.handleSuperior}\n                hidden={false}\n              >\n                <MenuItem value=\"\" >None</MenuItem>\n                {this.props.nameIdList.map((pair,index) => {\n              return (<MenuItem key={index} value={pair.id} >{pair.name}</MenuItem>);\n            })}\n              </Select>\n          </FormControl>\n          <br/>\n          <input type=\"submit\" value=\"submit\" className=\"submit-button\"/>\n        </div>\n      </form>\n    </div>\n    );\n  }\n}\nexport default InputForm;"]},"metadata":{},"sourceType":"module"}