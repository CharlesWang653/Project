{"ast":null,"code":"import _defineProperty from \"/Users/charleswang/Desktop/coding learning/web/projects/project2/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nconst axios = require('axios');\n\nexport const userListRequestStart = () => {\n  return {\n    type: \"GET_LIST_START\"\n  };\n};\nexport const userListGetSuccess = res => {\n  return {\n    type: \"GET_LIST_SUCCESS\",\n    data: res\n  };\n};\nexport const userListGetFail = err => {\n  return {\n    type: \"GET_LIST_FAIL\",\n    err: err\n  };\n};\nexport const clear = () => {\n  return {\n    type: \"CLEAR\"\n  };\n};\nexport const userClear = () => {\n  return {\n    type: \"USER_CLEAR\"\n  };\n}; //sigle user\n\nexport const userRequestStart = () => {\n  return {\n    type: \"USER_START\"\n  };\n};\nexport const userGetSuccess = res => {\n  return {\n    type: \"GET_USER_SUCCESS\",\n    data: res\n  };\n};\nexport const userRequestFail = err => {\n  return {\n    type: \"USER_FAIL\",\n    err: err\n  };\n};\nexport const getList = (search, sortArea, sortFunc, page) => {\n  return (dispatch, getState) => {\n    let newArr = [];\n    dispatch(userListRequestStart());\n\n    if (sortArea !== \"\" && sortFunc !== \"\") {\n      axios.get(\"http://localhost:8888/api/users?search=\".concat(search, \"&sortArea=\").concat(sortArea, \"&sortFunc=\").concat(sortFunc, \"&page=\").concat(page)).then(res => {\n        dispatch(userListGetSuccess(newArr));\n      }).catch(error => {\n        dispatch(userListGetFail(error));\n      });\n    } else {\n      axios.get(\"http://localhost:8888/api/users?search=\".concat(search, \"&page=\").concat(page)).then(res => {\n        for (let user of res.data) {\n          axios.get(\"http://localhost:8888/api/users/\".concat(user.Superior)).then(newRes => {\n            if (user.Superior !== \"\") {\n              user = _objectSpread({}, user, {\n                SuperiorName: newRes.data.Name\n              }); // console.log(user);\n\n              newArr.push(user);\n            } else {\n              // console.log(user);\n              newArr.push(user);\n            }\n\n            if (res.data.length === newArr.length) {\n              dispatch(userListGetSuccess(newArr));\n            }\n          });\n        }\n      }).catch(error => {\n        dispatch(userListGetFail(error));\n      });\n    }\n  };\n};\nexport const getDS = officerId => {\n  return (dispatch, getState) => {\n    let newArr = [];\n    dispatch(userListRequestStart());\n    axios.get(\"http://localhost:8888/api/users/\".concat(officerId, \"/DS\")).then(res => {\n      for (let user of res.data) {\n        axios.get(\"http://localhost:8888/api/users/\".concat(user.Superior)).then(newRes => {\n          if (user.Superior !== \"\") {\n            user = _objectSpread({}, user, {\n              SuperiorName: newRes.data.Name\n            }); // console.log(user);\n\n            newArr.push(user);\n          } else {\n            // console.log(user);\n            newArr.push(user);\n          }\n\n          if (res.data.length === newArr.length) {\n            dispatch(userListGetSuccess(newArr));\n          }\n        });\n      }\n    }).catch(error => {\n      dispatch(userListGetFail(error));\n    });\n  };\n};\nexport const getListOne = Id => {\n  return (dispatch, getState) => {\n    dispatch(userListRequestStart());\n    let newArr = [];\n    axios.get(\"http://localhost:8888/api/users/\".concat(Id)).then(res => {\n      console.log(newArr);\n\n      for (let user of res.data) {\n        axios.get(\"http://localhost:8888/api/users/\".concat(user.Superior)).then(newRes => {\n          if (user.Superior !== \"\") {\n            user = _objectSpread({}, user, {\n              SuperiorName: newRes.data.Name\n            }); // console.log(user);\n\n            newArr.push(user);\n          } else {\n            // console.log(user);\n            newArr.push(user);\n          }\n\n          if (res.data.length === newArr.length) {\n            dispatch(userListGetSuccess([newArr]));\n          }\n        });\n      }\n    }).catch(error => {\n      dispatch(userListGetFail(error));\n    });\n  };\n};\nexport const getOneUser = id => {\n  return (dispatch, getState) => {\n    dispatch(userRequestStart());\n    axios.get(\"http://localhost:8888/api/users/\".concat(id)).then(res => {\n      dispatch(userGetSuccess(res.data));\n    }).catch(error => {\n      dispatch(userRequestFail(error));\n    });\n  };\n};","map":{"version":3,"sources":["/Users/charleswang/Desktop/coding learning/web/projects/project2/src/client/redux/actions/actions.js"],"names":["axios","require","userListRequestStart","type","userListGetSuccess","res","data","userListGetFail","err","clear","userClear","userRequestStart","userGetSuccess","userRequestFail","getList","search","sortArea","sortFunc","page","dispatch","getState","newArr","get","then","catch","error","user","Superior","newRes","SuperiorName","Name","push","length","getDS","officerId","getListOne","Id","console","log","getOneUser","id"],"mappings":"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","sourcesContent":["const axios = require('axios');\nexport const userListRequestStart = () => {\n  return {\n    type: \"GET_LIST_START\"\n  }\n}\nexport const userListGetSuccess = (res) => {\n  return {\n    type: \"GET_LIST_SUCCESS\",\n    data: res\n  }\n}\nexport const userListGetFail = (err) => {\n  return {\n    type: \"GET_LIST_FAIL\",\n    err: err\n  }\n}\nexport const clear = () => {\n  return {\n    type: \"CLEAR\"\n  }\n}\nexport const userClear = () => {\n  return {\n    type: \"USER_CLEAR\"\n  }\n}\n\n//sigle user\nexport const userRequestStart = () => {\n  return {\n    type: \"USER_START\"\n  }\n}\nexport const userGetSuccess = (res) => {\n  return {\n    type: \"GET_USER_SUCCESS\",\n    data: res\n  }\n}\nexport const userRequestFail = (err) => {\n  return {\n    type: \"USER_FAIL\",\n    err: err\n  }\n}\n\nexport const getList = (search,sortArea,sortFunc,page) => {\n  return (dispatch, getState) => {\n    let newArr = [];\n    dispatch(userListRequestStart());\n    if(sortArea !== \"\" && sortFunc !== \"\"){\n      axios\n      .get(`http://localhost:8888/api/users?search=${search}&sortArea=${sortArea}&sortFunc=${sortFunc}&page=${page}`)\n      .then(res => {\n        dispatch(userListGetSuccess(newArr));\n      })\n      .catch(error => {\n        dispatch(userListGetFail(error));\n      });\n    }else{\n      axios\n      .get(`http://localhost:8888/api/users?search=${search}&page=${page}`)\n      .then(res => {\n        for(let user of res.data){\n            axios.get(`http://localhost:8888/api/users/${user.Superior}`)\n              .then(newRes => {\n                if(user.Superior !== \"\"){\n                  user = {...user,SuperiorName: newRes.data.Name};\n                  // console.log(user);\n                  newArr.push(user);\n                }else{\n                  // console.log(user);\n                  newArr.push(user);\n                }\n                if (res.data.length === newArr.length) {\n                  dispatch(userListGetSuccess(newArr));\n                }\n              })\n        }\n        \n      })\n      .catch(error => {\n        dispatch(userListGetFail(error));\n      });\n    }\n  }\n}\nexport const getDS = (officerId) => {\n  return (dispatch, getState) => {\n    let newArr = [];\n    dispatch(userListRequestStart());\n    axios\n      .get(`http://localhost:8888/api/users/${officerId}/DS`)\n      .then(res => {\n        for(let user of res.data){\n          axios.get(`http://localhost:8888/api/users/${user.Superior}`)\n            .then(newRes => {\n              if(user.Superior !== \"\"){\n                user = {...user,SuperiorName: newRes.data.Name};\n                // console.log(user);\n                newArr.push(user);\n              }else{\n                // console.log(user);\n                newArr.push(user);\n              }\n              if (res.data.length === newArr.length) {\n                dispatch(userListGetSuccess(newArr));\n              }\n            })\n      }\n      })\n      .catch(error => {\n        dispatch(userListGetFail(error));\n      });\n  }\n}\nexport const getListOne = (Id) => {\n  return (dispatch, getState) => {\n    dispatch(userListRequestStart());\n    let newArr = [];\n    axios\n      .get(`http://localhost:8888/api/users/${Id}`)\n      .then(res => {\n        console.log(newArr);\n        for(let user of res.data){\n          axios.get(`http://localhost:8888/api/users/${user.Superior}`)\n            .then(newRes => {\n              if(user.Superior !== \"\"){\n                user = {...user,SuperiorName: newRes.data.Name};\n                // console.log(user);\n                newArr.push(user);\n              }else{\n                // console.log(user);\n                newArr.push(user);\n              }\n              if (res.data.length === newArr.length) {\n                \n                dispatch(userListGetSuccess([newArr]));\n              }\n            })\n      }\n      })\n      .catch(error => {\n        dispatch(userListGetFail(error));\n      });\n  }\n}\nexport const getOneUser = (id) => {\n  return (dispatch, getState) => {\n    dispatch(userRequestStart());\n    axios\n      .get(`http://localhost:8888/api/users/${id}`)\n      .then(res => {\n        dispatch(userGetSuccess(res.data));\n      })\n      .catch(error => {\n        dispatch(userRequestFail(error));\n      });\n  }\n}"]},"metadata":{},"sourceType":"module"}