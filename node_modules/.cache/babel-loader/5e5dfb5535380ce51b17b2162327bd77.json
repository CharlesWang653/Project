{"ast":null,"code":"import _defineProperty from \"/Users/charleswang/Desktop/coding learning/web/projects/project2/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/charleswang/Desktop/coding learning/web/projects/project2/src/client/react/components/inputForm.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from \"react\";\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\n\nclass InputForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleAvatar = e => {\n      const file = e.target.value;\n      this.setState({\n        user: _objectSpread({}, this.state.user, {\n          Avatar: file\n        })\n      });\n    };\n\n    this.handleName = e => {\n      this.setState({\n        user: _objectSpread({}, this.state.user, {\n          Name: e.target.value\n        })\n      });\n    };\n\n    this.handleSex = e => {\n      this.setState({\n        user: _objectSpread({}, this.state.user, {\n          Sex: e.target.value\n        })\n      });\n    };\n\n    this.handleRank = e => {\n      this.setState({\n        user: _objectSpread({}, this.state.user, {\n          Rank: e.target.value\n        })\n      });\n    };\n\n    this.handleStartDate = e => {\n      this.setState({\n        user: _objectSpread({}, this.state.user, {\n          StartDate: e.target.value\n        })\n      });\n    };\n\n    this.handlePhone = e => {\n      this.setState({\n        user: _objectSpread({}, this.state.user, {\n          Phone: e.target.value\n        })\n      });\n    };\n\n    this.handleEmail = e => {\n      this.setState({\n        user: _objectSpread({}, this.state.user, {\n          Email: e.target.value\n        })\n      });\n    };\n\n    this.handleSuperior = e => {\n      const user = this.props.nameIdList.find(pair => {\n        return pair.id === e.target.value;\n      });\n\n      if (user) {\n        this.setState({\n          user: _objectSpread({}, this.state.user, {\n            Superior: e.target.value,\n            SuperiorName: user.name\n          })\n        });\n        console.log(this.state.user.SuperiorName);\n      }\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n\n      if (this.props.use === \"create\") {\n        const createUser = {\n          Avatar: this.state.user.Avatar,\n          Name: this.state.user.Name,\n          Sex: this.state.user.Sex,\n          Rank: this.state.user.Rank,\n          StartDate: this.state.user.StartDate,\n          Phone: this.state.user.Phone,\n          Email: this.state.user.Email,\n          Superior: this.state.user.Superior\n        };\n        this.props.createOne(createUser, this.props.history);\n      } else {\n        this.props.updateOne(this.state.user, this.state.oldSuperior, this.state.user.Superior, this.props.history);\n      }\n    };\n\n    this.state = {\n      user: {\n        _id: this.props.userdata._id,\n        Avatar: this.props.userdata.Avatar,\n        Name: this.props.userdata.Name,\n        Sex: this.props.userdata.Sex,\n        Rank: this.props.userdata.Rank,\n        StartDate: this.props.userdata.StartDate,\n        Phone: this.props.userdata.Phone,\n        Email: this.props.userdata.Email,\n        Superior: this.props.userdata.Superior,\n        SuperiorName: this.props.userdata.SuperiorName\n      },\n      oldSuperior: this.props.userdata.Superior\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      user: _objectSpread({}, this.state.user, {\n        SuperiorName: this.props.userdata.SuperiorName\n      })\n    });\n    console.log(this.state.user.SuperiorName);\n  }\n\n  render() {\n    console.log(this.state.user);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"avatar\"), React.createElement(\"img\", {\n      src: this.state.user.Avatar,\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"file\",\n      accept: \"image/jpeg,image/jpg,image/png\",\n      className: \"base-upload-input\",\n      onChange: this.handleAvatar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"Name\"), React.createElement(\"input\", {\n      value: this.state.user.Name,\n      onChange: this.handleName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Sex\"), React.createElement(\"input\", {\n      value: this.state.user.Sex,\n      onChange: this.handleSex,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Rank\"), React.createElement(\"input\", {\n      value: this.state.user.Rank,\n      onChange: this.handleRank,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"StartDate\"), React.createElement(\"input\", {\n      value: this.state.user.StartDate,\n      onChange: this.handleStartDate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Phone\"), React.createElement(\"input\", {\n      value: this.state.user.Phone,\n      onChange: this.handlePhone,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Email\"), React.createElement(\"input\", {\n      value: this.state.user.Email,\n      onChange: this.handleEmail,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }), React.createElement(FormControl, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(InputLabel, {\n      id: \"demo-simple-select-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Superior\"), React.createElement(Select, {\n      value: this.state.user.Superior,\n      onChange: this.handleSuperior,\n      hidden: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, this.props.nameIdList.map((pair, index) => {\n      return React.createElement(MenuItem, {\n        key: index,\n        value: pair.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, pair.name);\n    }))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default InputForm;","map":{"version":3,"sources":["/Users/charleswang/Desktop/coding learning/web/projects/project2/src/client/react/components/inputForm.js"],"names":["React","FormControl","InputLabel","MenuItem","Select","InputForm","Component","constructor","props","handleAvatar","e","file","target","value","setState","user","state","Avatar","handleName","Name","handleSex","Sex","handleRank","Rank","handleStartDate","StartDate","handlePhone","Phone","handleEmail","Email","handleSuperior","nameIdList","find","pair","id","Superior","SuperiorName","name","console","log","handleSubmit","preventDefault","use","createUser","createOne","history","updateOne","oldSuperior","_id","userdata","componentDidMount","render","map","index"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nclass InputForm extends React.Component {\n  constructor(props){\n    super(props);\n    this.state={user:{_id:this.props.userdata._id, Avatar: this.props.userdata.Avatar, Name: this.props.userdata.Name,\n      Sex: this.props.userdata.Sex, Rank: this.props.userdata.Rank, StartDate: this.props.userdata.StartDate,\n      Phone: this.props.userdata.Phone, Email: this.props.userdata.Email, \n      Superior: this.props.userdata.Superior,SuperiorName:this.props.userdata.SuperiorName},oldSuperior:this.props.userdata.Superior};\n  }\n  componentDidMount() {\n    this.setState({user:{...this.state.user, SuperiorName: this.props.userdata.SuperiorName}});\n    console.log(this.state.user.SuperiorName);\n  }\n  handleAvatar = (e) => {\n    const file = e.target.value\n    this.setState({user:{...this.state.user, Avatar: file}});\n  }\n  handleName = (e) => {\n    this.setState({user:{...this.state.user, Name: e.target.value}});\n  }\n  handleSex = (e) => {\n    this.setState({user:{...this.state.user, Sex: e.target.value}});\n  }\n  handleRank = (e) => {\n    this.setState({user:{...this.state.user, Rank: e.target.value}});\n  }\n  handleStartDate = (e) => {\n    this.setState({user:{...this.state.user, StartDate: e.target.value}});\n  }\n  handlePhone = (e) => {\n    this.setState({user:{...this.state.user, Phone: e.target.value}});\n  }\n  handleEmail = (e) => {\n    this.setState({user:{...this.state.user, Email: e.target.value}});\n  }\n  handleSuperior = (e) => {\n    const user = this.props.nameIdList.find((pair) => {\n      return pair.id === e.target.value;\n    });\n    if(user){\n      this.setState({user:{...this.state.user, Superior: e.target.value, SuperiorName: user.name}});\n      console.log(this.state.user.SuperiorName);\n    }\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    if(this.props.use === \"create\"){\n      const createUser={Avatar: this.state.user.Avatar, Name: this.state.user.Name,\n        Sex: this.state.user.Sex, Rank: this.state.user.Rank, StartDate: this.state.user.StartDate,\n        Phone: this.state.user.Phone, Email: this.state.user.Email, \n        Superior: this.state.user.Superior}\n      this.props.createOne(createUser, this.props.history);\n    }else{\n      this.props.updateOne(this.state.user, this.state.oldSuperior, this.state.user.Superior, this.props.history);\n    }\n  }\n  render() {\n    console.log(this.state.user);\n    return (\n    <div>\n      <form onSubmit={this.handleSubmit}>\n        <label>avatar</label>\n        <img src={this.state.user.Avatar} alt=\"\"/>\n        <input\n          type=\"file\"\n          accept=\"image/jpeg,image/jpg,image/png\"\n          className=\"base-upload-input\"\n          onChange={this.handleAvatar}\n        />\n        <label>Name</label>\n        <input value={this.state.user.Name} onChange={this.handleName}/>\n        <label>Sex</label>\n        <input value={this.state.user.Sex} onChange={this.handleSex}/>\n        <label>Rank</label>\n        <input value={this.state.user.Rank} onChange={this.handleRank}/>\n        <label>StartDate</label>\n        <input value={this.state.user.StartDate} onChange={this.handleStartDate}/>\n        <label>Phone</label>\n        <input value={this.state.user.Phone} onChange={this.handlePhone}/>\n        <label>Email</label>\n        <input value={this.state.user.Email} onChange={this.handleEmail}/>\n        <FormControl>\n            <InputLabel id=\"demo-simple-select-label\">Superior</InputLabel>\n            <Select\n              value={this.state.user.Superior}\n              onChange={this.handleSuperior}\n              hidden={false}\n            >\n              {this.props.nameIdList.map((pair,index) => {\n            return (<MenuItem key={index} value={pair.id} >{pair.name}</MenuItem>);\n          })}\n            </Select>\n        </FormControl>\n        <br/>\n        <input type=\"submit\"/>\n      </form>\n    </div>\n    );\n  }\n}\nexport default InputForm;"]},"metadata":{},"sourceType":"module"}