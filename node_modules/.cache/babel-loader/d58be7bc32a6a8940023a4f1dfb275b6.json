{"ast":null,"code":"var _jsxFileName = \"/Users/charleswang/Desktop/coding learning/web/projects/project2/src/client/react/components/UserList.js\";\nimport React from \"react\";\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nconst columns = [{\n  id: 'avatar',\n  label: 'avatar',\n  minWidth: 170\n}, {\n  id: 'Name',\n  label: 'Name',\n  minWidth: 100\n}, {\n  id: 'Sex',\n  label: 'Sex',\n  minWidth: 170,\n  format: value => value.toLocaleString()\n}, {\n  id: 'Rank',\n  label: 'Rank',\n  minWidth: 170,\n  format: value => value.toLocaleString()\n}, {\n  id: 'StartDate',\n  label: 'StartDate',\n  minWidth: 170,\n  format: value => value.toFixed(2)\n}, {\n  id: 'Phone',\n  label: 'Phone',\n  minWidth: 170,\n  format: value => value.toFixed(2)\n}, {\n  id: 'Email',\n  label: 'Email',\n  minWidth: 170,\n  format: value => value.toFixed(2)\n}, {\n  id: 'Superior',\n  label: 'Superior',\n  minWidth: 170,\n  format: value => value.toFixed(2)\n}, {\n  id: 'DS',\n  label: 'DS',\n  minWidth: 170,\n  format: value => value.toFixed(2)\n}];\n\nclass UserList extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleNameClick = () => {\n      if (this.state.nameSort === 0) {\n        this.props.getList(this.props.search, \"Name\", 1, this.props.page);\n        this.setState({\n          nameSort: 1\n        });\n      } else if (this.state.nameSort === 1) {\n        this.props.getList(this.props.search, \"Name\", -1, this.props.page);\n        this.setState({\n          nameSort: -1\n        });\n      } else if (this.state.nameSort === -1) {\n        this.props.getList(this.props.search, \"Name\", \"\", this.props.page);\n        this.setState({\n          nameSort: 0\n        });\n      }\n    };\n\n    this.handleSexClick = () => {\n      if (this.state.sexSort === 0) {\n        this.props.getList(this.props.search, \"Sex\", 1, this.props.page);\n        this.setState({\n          sexSort: 1\n        });\n      } else if (this.state.sexSort === 1) {\n        this.props.getList(this.props.search, \"Sex\", -1, this.props.page);\n        this.setState({\n          sexSort: -1\n        });\n      } else if (this.state.sexSort === -1) {\n        this.props.getList(this.props.search, \"Sex\", \"\", this.props.page);\n        this.setState({\n          sexSort: 0\n        });\n      }\n    };\n\n    this.handleRankClick = () => {\n      if (this.state.rankSort === 0) {\n        this.props.getList(this.props.search, \"Rank\", 1, this.props.page);\n        this.setState({\n          rankSort: 1\n        });\n      } else if (this.state.rankSort === 1) {\n        this.props.getList(this.props.search, \"Rank\", -1, this.props.page);\n        this.setState({\n          rankSort: -1\n        });\n      } else if (this.state.nameSort === -1) {\n        this.props.getList(this.props.search, \"Rank\", \"\", this.props.page);\n        this.setState({\n          rankSort: 0\n        });\n      }\n    };\n\n    this.handleDateClick = () => {\n      if (this.state.dateSort === 0) {\n        this.props.getList(this.props.search, \"StartDate\", 1, this.props.page);\n        this.setState({\n          dateSort: 1\n        });\n      } else if (this.state.dateSort === 1) {\n        this.props.getList(this.props.search, \"StartDate\", -1, this.props.page);\n        this.setState({\n          dateSort: -1\n        });\n      } else if (this.state.dateSort === -1) {\n        this.props.getList(this.props.search, \"StartDate\", \"\", this.props.page);\n        this.setState({\n          dateSort: 0\n        });\n      }\n    };\n\n    this.getname = id => {\n      const name = this.props.allList.data.find(userId => {\n        return userId.id === id;\n      });\n\n      if (name) {\n        return name.name;\n      } else {\n        return \"\";\n      }\n    };\n\n    this.state = {\n      nameSort: 0,\n      sexSort: 0,\n      rankSort: 0,\n      dateSort: 0\n    };\n  }\n\n  render() {\n    // console.log(this.props);\n    return React.createElement(Paper, {\n      className: \"aboveall\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"big-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(Table, {\n      stickyHeader: true,\n      \"aria-label\": \"sticky table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(TableHead, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(TableRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(TableCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"avatar\"), React.createElement(TableCell, {\n      onClick: this.handleNameClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"name\", this.state.nameSort === 1 && React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"\\u2193\"), this.state.nameSort === -1 && React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"\\u2191\")), React.createElement(TableCell, {\n      onClick: this.handleSexClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"sex\"), React.createElement(TableCell, {\n      onClick: this.handleRankClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, \"rank\"), React.createElement(TableCell, {\n      onClick: this.handleDateClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"StartDate\"), React.createElement(TableCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"Phone\"), React.createElement(TableCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \"Email\"), React.createElement(TableCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"Superior\"), React.createElement(TableCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"DS\"))), React.createElement(TableBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, this.props.userList.data.map(user => {\n      return React.createElement(TableRow, {\n        hover: true,\n        role: \"checkbox\",\n        tabIndex: -1,\n        key: user._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, user.Avatar !== \"\" && React.createElement(\"img\", {\n        src: require(\"../../../../src/server/\".concat(user.Avatar)),\n        style: {\n          height: \"50px\",\n          width: \"50px\"\n        },\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      })), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, user.Name), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, user.Sex), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, user.Rank), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, user.StartDate), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"tel:\".concat(user.Phone),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, user.Phone)), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"mailto:\".concat(user.Email),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, user.Email)), React.createElement(TableCell, {\n        onClick: () => this.props.getListOne(user.Superior),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, this.getname(user.Superior)), React.createElement(TableCell, {\n        onClick: () => this.props.getDS(user._id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, user.DS.length), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: () => {\n          this.props.getOneUser(user._id, this.props.history);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, \"edit\")), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: () => {\n          this.props.deleteOneUser(user, this.props.search, \"\", \"\", this.props.page);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, \"delete\")));\n    }))))) //   <div>\n    //   <table>\n    //     <thead>\n    //       <tr>\n    //         <th>avatar</th>\n    //         <th onClick={this.handleNameClick}>name</th>\n    //         <th onClick={this.handleSexClick}>sex</th>\n    //         <th onClick={this.handleRankClick}>rank</th>\n    //         <th onClick={this.handleDateClick}>StartDate</th>\n    //         <th>Phone</th>\n    //         <th>Email</th>\n    //         <th>Superior</th>\n    //         <th>DS</th>\n    //       </tr>\n    //     </thead>\n    //     <tbody>\n    //       {this.props.userList.data.map((user) => {\n    //         return(\n    //           <tr key={user._id}>\n    //             <TableCell>{(user.Avatar !== \"\") && <img src={require(`../../../../src/server/${user.Avatar}`)} style={{height:\"50px\",width:\"50px\"}}alt=\"\"/>}</TableCell>\n    //             <TableCell>{user.Name}</TableCell>\n    //             <TableCell>{user.Sex}</TableCell>\n    //             <TableCell>{user.Rank}</TableCell>\n    //             <TableCell>{user.StartDate}</TableCell>\n    //             <TableCell><a href={`tel:${user.Phone}`}>{user.Phone}</a></TableCell>\n    //             <TableCell><a href={`mailto:${user.Email}`}>{user.Email}</a></TableCell>\n    //             <TableCell onClick={() => this.props.getListOne(user.Superior)}>{\n    //               this.getname(user.Superior)}</TableCell>\n    //             <TableCell onClick={() => this.props.getDS(user._id)}>{user.DS.length}</TableCell>\n    //             <TableCell><button onClick={() => {this.props.getOneUser(user._id, this.props.history);}}>edit</button></TableCell>\n    //             <TableCell><button onClick={() => {this.props.deleteOneUser(user,this.props.search,\"\",\"\",this.props.page)}}>delete</button></TableCell>\n    //           </tr>\n    //         );\n    //       })}\n    //     </tbody>\n    //   </table>\n    // </div>\n    ;\n  }\n\n}\n\nexport default UserList;","map":{"version":3,"sources":["/Users/charleswang/Desktop/coding learning/web/projects/project2/src/client/react/components/UserList.js"],"names":["React","Paper","Table","TableBody","TableCell","TableHead","TablePagination","TableRow","columns","id","label","minWidth","format","value","toLocaleString","toFixed","UserList","Component","constructor","props","handleNameClick","state","nameSort","getList","search","page","setState","handleSexClick","sexSort","handleRankClick","rankSort","handleDateClick","dateSort","getname","name","allList","data","find","userId","render","userList","map","user","_id","Avatar","require","height","width","Name","Sex","Rank","StartDate","Phone","Email","getListOne","Superior","getDS","DS","length","getOneUser","history","deleteOneUser"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\n\nconst columns = [\n  { id: 'avatar', label: 'avatar', minWidth: 170 },\n  { id: 'Name', label: 'Name', minWidth: 100 },\n  {\n    id: 'Sex',\n    label: 'Sex',\n    minWidth: 170,\n    format: value => value.toLocaleString(),\n  },\n  {\n    id: 'Rank',\n    label: 'Rank',\n    minWidth: 170,\n    format: value => value.toLocaleString(),\n  },\n  {\n    id: 'StartDate',\n    label: 'StartDate',\n    minWidth: 170,\n    format: value => value.toFixed(2),\n  },\n  {\n    id: 'Phone',\n    label: 'Phone',\n    minWidth: 170,\n    format: value => value.toFixed(2),\n  },\n  {\n    id: 'Email',\n    label: 'Email',\n    minWidth: 170,\n    format: value => value.toFixed(2),\n  },\n  {\n    id: 'Superior',\n    label: 'Superior',\n    minWidth: 170,\n    format: value => value.toFixed(2),\n  },\n  {\n    id: 'DS',\n    label: 'DS',\n    minWidth: 170,\n    format: value => value.toFixed(2),\n  },\n];\nclass UserList extends React.Component{\n  constructor(props){\n    super(props);\n    this.state = {nameSort:0,sexSort:0, rankSort: 0, dateSort: 0};\n  }\n  handleNameClick = () => {\n    if(this.state.nameSort === 0){\n      this.props.getList(this.props.search,\"Name\",1,this.props.page);\n      this.setState({nameSort:1});\n    }else if(this.state.nameSort === 1){\n      this.props.getList(this.props.search,\"Name\",-1,this.props.page);\n      this.setState({nameSort:-1});\n    }else if(this.state.nameSort === -1){\n      this.props.getList(this.props.search,\"Name\",\"\",this.props.page);\n      this.setState({nameSort:0});\n    }\n  }\n  handleSexClick = () => {\n    if(this.state.sexSort === 0){\n      this.props.getList(this.props.search,\"Sex\",1,this.props.page);\n      this.setState({sexSort:1});\n    }else if(this.state.sexSort === 1){\n      this.props.getList(this.props.search,\"Sex\",-1,this.props.page);\n      this.setState({sexSort:-1});\n    }else if(this.state.sexSort === -1){\n      this.props.getList(this.props.search,\"Sex\",\"\",this.props.page);\n      this.setState({sexSort:0});\n    }\n  }\n  handleRankClick = () => {\n    if(this.state.rankSort === 0){\n      this.props.getList(this.props.search,\"Rank\",1,this.props.page);\n      this.setState({rankSort:1});\n    }else if(this.state.rankSort === 1){\n      this.props.getList(this.props.search,\"Rank\",-1,this.props.page);\n      this.setState({rankSort:-1});\n    }else if(this.state.nameSort === -1){\n      this.props.getList(this.props.search,\"Rank\",\"\",this.props.page);\n      this.setState({rankSort:0});\n    }\n  }\n  handleDateClick = () => {\n    if(this.state.dateSort === 0){\n      this.props.getList(this.props.search,\"StartDate\",1,this.props.page);\n      this.setState({dateSort:1});\n    }else if(this.state.dateSort === 1){\n      this.props.getList(this.props.search,\"StartDate\",-1,this.props.page);\n      this.setState({dateSort:-1});\n    }else if(this.state.dateSort === -1){\n      this.props.getList(this.props.search,\"StartDate\",\"\",this.props.page);\n      this.setState({dateSort:0});\n    }\n  }\n  getname = (id) => {\n    const name = this.props.allList.data.find((userId) => {return userId.id === id})\n    if(name){\n      return name.name;\n    }else{\n      return \"\";\n    }\n  }\n  render() {\n    // console.log(this.props);\n    return (\n      <Paper className=\"aboveall\">\n      <div className=\"big-div\">\n        <Table stickyHeader aria-label=\"sticky table\">\n          <TableHead>\n            <TableRow>\n              <TableCell>avatar</TableCell>\n    <TableCell onClick={this.handleNameClick}>name{this.state.nameSort === 1 && <span>&darr;</span>}{this.state.nameSort === -1 && <span>&uarr;</span>}</TableCell>\n              <TableCell onClick={this.handleSexClick}>sex</TableCell>\n              <TableCell onClick={this.handleRankClick}>rank</TableCell>\n              <TableCell onClick={this.handleDateClick}>StartDate</TableCell>\n              <TableCell>Phone</TableCell>\n              <TableCell>Email</TableCell>\n              <TableCell>Superior</TableCell>\n              <TableCell>DS</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {this.props.userList.data.map(user => {\n              return (\n                <TableRow hover role=\"checkbox\" tabIndex={-1} key={user._id}>\n                    <TableCell >\n                      {(user.Avatar !== \"\") && <img src={require(`../../../../src/server/${user.Avatar}`)} style={{height:\"50px\",width:\"50px\"}}alt=\"\"/>}\n                    </TableCell>\n                    <TableCell>{user.Name}</TableCell>\n                    <TableCell>{user.Sex}</TableCell>\n                    <TableCell>{user.Rank}</TableCell>\n                    <TableCell>{user.StartDate}</TableCell>\n                    <TableCell><a href={`tel:${user.Phone}`}>{user.Phone}</a></TableCell>\n                    <TableCell><a href={`mailto:${user.Email}`}>{user.Email}</a></TableCell>\n                    <TableCell onClick={() => this.props.getListOne(user.Superior)}>{\n                      this.getname(user.Superior)}</TableCell>\n                    <TableCell onClick={() => this.props.getDS(user._id)}>{user.DS.length}</TableCell>\n                    <TableCell><button onClick={() => {this.props.getOneUser(user._id, this.props.history);}}>edit</button></TableCell>\n                    <TableCell><button onClick={() => {this.props.deleteOneUser(user,this.props.search,\"\",\"\",this.props.page)}}>delete</button></TableCell>\n                </TableRow>\n              );\n            })}\n          </TableBody>\n        </Table>\n      </div>\n    </Paper>\n    //   <div>\n    //   <table>\n    //     <thead>\n    //       <tr>\n    //         <th>avatar</th>\n    //         <th onClick={this.handleNameClick}>name</th>\n    //         <th onClick={this.handleSexClick}>sex</th>\n    //         <th onClick={this.handleRankClick}>rank</th>\n    //         <th onClick={this.handleDateClick}>StartDate</th>\n    //         <th>Phone</th>\n    //         <th>Email</th>\n    //         <th>Superior</th>\n    //         <th>DS</th>\n    //       </tr>\n    //     </thead>\n    //     <tbody>\n    //       {this.props.userList.data.map((user) => {\n    //         return(\n    //           <tr key={user._id}>\n    //             <TableCell>{(user.Avatar !== \"\") && <img src={require(`../../../../src/server/${user.Avatar}`)} style={{height:\"50px\",width:\"50px\"}}alt=\"\"/>}</TableCell>\n    //             <TableCell>{user.Name}</TableCell>\n    //             <TableCell>{user.Sex}</TableCell>\n    //             <TableCell>{user.Rank}</TableCell>\n    //             <TableCell>{user.StartDate}</TableCell>\n    //             <TableCell><a href={`tel:${user.Phone}`}>{user.Phone}</a></TableCell>\n    //             <TableCell><a href={`mailto:${user.Email}`}>{user.Email}</a></TableCell>\n    //             <TableCell onClick={() => this.props.getListOne(user.Superior)}>{\n    //               this.getname(user.Superior)}</TableCell>\n    //             <TableCell onClick={() => this.props.getDS(user._id)}>{user.DS.length}</TableCell>\n    //             <TableCell><button onClick={() => {this.props.getOneUser(user._id, this.props.history);}}>edit</button></TableCell>\n    //             <TableCell><button onClick={() => {this.props.deleteOneUser(user,this.props.search,\"\",\"\",this.props.page)}}>delete</button></TableCell>\n    //           </tr>\n    //         );\n    //       })}\n    //     </tbody>\n    //   </table>\n    // </div>\n    );\n  }\n}\nexport default UserList;"]},"metadata":{},"sourceType":"module"}